# Learning Shell

## 变量

- 局部变量
- 环境变量
- `shell` 变量

### 定义

- 命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。
- 中间不能有空格，可以使用下划线 `_`。
- 不能使用标点符号。
- 不能使用 `bash` 里的关键字（可用 `help` 命令查看保留关键字）

### 使用

- $变量名
- ${变量名}

> 花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界

### 只读 `readonly`

### 删除 `unset`

### 字符串

- 变量名="字符串"
- 变量名='字符串'

#### 单引号

单引号字符串的限制：

- 单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；
- 单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。

#### 双引号

双引号的优点：

- 双引号里可以有变量
- 双引号里可以出现转义字符 `$`/`${}`

#### 拼接

直接使用 `""`/`''`拼接，不适用 `+`，双引号可以使用转义。

#### 长度

两种方式效果相同：

- ${#字符串}
- ${#字符串[0]}

#### 提取字符串

${$字符串:n:m}

#### 查找字符首次出现位置

expr index "字符串" 查询字符串

```shell
# expr index "abcd" dcb
2
```

### 数组

数组名=(值1 值2 ... 值n)

#### 读取数组

- ${数组名[n]}，根据索引获取数组元素
- ${数组名[@]}，获取全部数组元素

#### 数组长度

- ${#数组名[0]}，数组元素个数
- ${#数组名[*]}，数组元素个数
- ${#数组名[n]}，数组第 n 个元素的长度
